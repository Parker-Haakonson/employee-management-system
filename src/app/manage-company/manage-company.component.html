<!--NavBar-->

<div class="container">
  <nav class="navbar navbar-expand-LG navbar-dark bg-dark">
    <div class="container-fluid">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-2">
            <a
              class="nav-item nav-link text-white"
              [routerLink]="['/admin-profile', currentUser.id]"
              >My Admin Profile</a
            >
          </div>
          <div class="col-md-2">
            <a
              class="nav-item nav-link text-white"
              [routerLink]="['/manage-company', currentUser.id]"
              >Manage the Company</a
            >
          </div>
          <div class="col-md-2">
            <a
              class="nav-item nav-link text-white"
              [routerLink]="['/manage-groups', currentUser.id]"
              >Manage Company Groups</a
            >
          </div>
          <div class="col-md-2">
            <a
              class="nav-item nav-link text-white"
              [routerLink]="['/manage-project', currentUser.id]"
              >Manage Group Projects</a
            >
          </div>
          <div class="col-md-2">
            <a
              class="nav-item nav-link text-white"
              [routerLink]="['/manage-tasks', currentUser.id]"
              >Manage Project Tasks</a
            >
          </div>
          <div class="col-md-2">
            <a
              class="nav-item nav-link text-white"
              [routerLink]="['/manage-employees', currentUser.id]"
              >Manage Company Employees</a
            >
          </div>
        </div>
      </div>
    </div>
  </nav>
</div>

<div class="container my-5">
  <h1 class="text-center">Manage Company</h1>

  <!-- Template for displaying and managing an existing company -->
  @if(company.id){
  <h2>Company Details</h2>
  <div class="card p-3">
    <p><strong>ID:</strong> {{ company.id }}</p>
    <p><strong>Name:</strong> {{ company.companyname }}</p>
    <p><strong>Address:</strong> {{ company.address }}</p>
    <p><strong>Phone:</strong> {{ company.phonenum }}</p>
  </div>

  <h3 class="mt-3">Update Company</h3>
  <form (ngSubmit)="updateCompany()">
    <div class="form-group">
      <label for="companynameUpdate">Company Name</label>
      <input
        type="text"
        id="companynameUpdate"
        [(ngModel)]="company.companyname"
        name="companynameUpdate"
        class="form-control"
        required
      />
    </div>
    <div class="form-group">
      <label for="addressUpdate">Address</label>
      <input
        type="text"
        id="addressUpdate"
        [(ngModel)]="company.address"
        name="addressUpdate"
        class="form-control"
        required
      />
    </div>
    <div class="form-group">
      <label for="phonenumUpdate">Phone Number</label>
      <input
        type="text"
        id="phonenumUpdate"
        [(ngModel)]="company.phonenum"
        name="phonenumUpdate"
        class="form-control"
        required
      />
    </div>
    <button type="submit" class="btn btn-success mt-3">Update Company</button>
  </form>
  <button (click)="deleteCompany()" class="btn btn-danger mt-3">
    Delete Company
  </button>
  } @else {

  <!-- Template for creating a company (if company does not exist) -->

  <h2>Create Company</h2>
  <form (ngSubmit)="addCompany()">
    <div class="form-group">
      <label for="companyname">Company Name</label>
      <input
        type="text"
        id="companyname"
        [(ngModel)]="company.companyname"
        name="companyname"
        class="form-control"
        required
      />
    </div>
    <div class="form-group">
      <label for="address">Address</label>
      <input
        type="text"
        id="address"
        [(ngModel)]="company.address"
        name="address"
        class="form-control"
        required
      />
    </div>
    <div class="form-group">
      <label for="phonenum">Phone Number</label>
      <input
        type="text"
        id="phonenum"
        [(ngModel)]="company.phonenum"
        name="phonenum"
        class="form-control"
        required
      />
    </div>
    <button type="submit" class="btn btn-primary mt-3">Create Company</button>
  </form>
  }
</div>
